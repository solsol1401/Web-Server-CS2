<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Register - Holidayparks</title>
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/custom.css" rel="stylesheet">
</head>

<body>
  <!-- Registration form -->
  <section class="registration">
    <div class="container">
      <div class="row">
        <div class="col-lg-6 col-lg-offset-3">
          <h2>Register</h2>
          <form id="registerForm" method="POST">
            <div class="form-group">
              <label for="name">Name:</label>
              <input type="text" class="form-control" id="name" name="name" required>
            </div>
            <div class="form-group">
              <label for="regUsername">Username:</label>
              <input type="text" class="form-control" id="regUsername" name="regUsername" required>
            </div>
            <div class="form-group">
              <label for="regPassword">Password:</label>
              <input type="password" class="form-control" id="regPassword" name="regPassword" required>
            </div>
            <button type="submit" class="btn btn-primary">Register</button>
          </form>
        </div>
      </div>
    </div>
  </section>

  <!-- Handle form submission -->

  <script src="js/jquery-1.11.3.min.js"></script>
  <script>
    $(document).ready(function() {
      $('#registerForm').submit(function(event) {
        event.preventDefault();
        var name = $('#name').val();
        var username = $('#regUsername').val();
        var password = $('#regPassword').val();

        // Perform registration using SQLite database
        $.ajax({
          type: 'POST',
          url: 'register.php', // This is the server-side script that handles the registration process
          data: { name: name, username: username, password: password },
          success: function(response) {
            if (response === 'success') {
              // Display a success message and clear the form
              alert("Registration successful. You can now log in.");
              $('#name').val('');
              $('#regUsername').val('');
              $('#regPassword').val('');
            } else {
              // Display an error message for registration failure
              alert("Registration failed. Please try again.");
            }
          },
          error: function() {
		},
            error: function() {
              // Display an error message if there was a problem with the registration process
              alert("An error occurred during registration. Please try again later.");
            }
          });
        });
      });
    </script>

  </body>

</html>       
